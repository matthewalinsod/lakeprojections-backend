<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lake Projections Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body data-dam="{{ active_dam or '' }}" data-subpage="{{ active_subpage or '' }}" data-page="{{ active_page or '' }}">

<header class="site-header">
    <h1>Lake Projections</h1>

    <nav class="primary-nav" aria-label="Primary">
        <a class="primary-nav-link {% if active_page == 'about' %}active{% endif %}" href="{{ url_for('about') }}">About</a>
        {% for dam_key, dam_name in dams.items() %}
            <a
                class="primary-nav-link {% if active_dam == dam_key %}active{% endif %}"
                href="{{ url_for('dam_subpage', dam=dam_key, subpage='overview') }}"
            >
                {{ dam_name }}
            </a>
        {% endfor %}
    </nav>

    {% if active_page == 'dam' and active_dam %}
    <nav class="secondary-nav" aria-label="Dam sections">
        {% for page_key, page_name in subpages.items() %}
            <a
                class="secondary-nav-link {% if active_subpage == page_key %}active{% endif %}"
                href="{{ url_for('dam_subpage', dam=active_dam, subpage=page_key) }}"
            >
                {{ page_name }}
            </a>
        {% endfor %}
    </nav>
    {% endif %}
</header>

<main class="main-content">
    {% block content %}{% endblock %}
</main>

<script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>

<script src="{{ url_for('static', filename='js/api.js') }}"></script>
<script src="{{ url_for('static', filename='js/charts.js') }}"></script>
<script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>

</body>
</html>
