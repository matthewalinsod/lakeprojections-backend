<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lake Projections Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body data-dam="{{ active_dam or '' }}" data-subpage="{{ active_subpage or '' }}" data-page="{{ active_page or '' }}">

<header class="site-header">
    <h1>Lake Projections</h1>

    <nav class="primary-nav" aria-label="Primary">
        <a class="primary-nav-link {% if active_page == 'about' %}active{% endif %}" href="{{ url_for('about') }}">About</a>
        {% for lake_slug, lake_data in lakes.items() %}
            <a
                class="primary-nav-link primary-nav-link-lake {% if active_lake == lake_slug %}active{% endif %}"
                href="{{ url_for('lake_overview', lake_slug=lake_slug) }}"
            >
                <span class="lake-name">{{ lake_data.lake_name }}</span>
                <span class="dam-subtext">{{ lake_data.dam_name }}</span>
            </a>
        {% endfor %}
    </nav>

    {% if active_page == 'dam' and active_dam %}
    <nav class="secondary-nav" aria-label="Lake sections">
        {% for page_key, page_name in subpages.items() %}
            <a
                class="secondary-nav-link {% if active_subpage == page_key %}active{% endif %}"
                href="{{ url_for('lake_subpage', lake_slug=active_lake, subpage=page_key) }}"
            >
                {{ page_name }}
            </a>
        {% endfor %}
    </nav>
    {% endif %}
</header>

<main class="main-content-shell">
    <aside class="ad-zone ad-zone-left" aria-hidden="true"></aside>
    <section class="main-content-container">
        <div class="main-content">
            {% block content %}{% endblock %}
        </div>
    </section>
    <aside class="ad-zone ad-zone-right" aria-hidden="true"></aside>
</main>

<script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>

<script src="{{ url_for('static', filename='js/api.js') }}"></script>
<script src="{{ url_for('static', filename='js/charts.js') }}"></script>
<script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>

</body>
</html>
