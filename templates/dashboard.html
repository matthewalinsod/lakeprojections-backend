{% extends "base.html" %}

{% block content %}

<div class="current-dam">
    {{ dam_label }} â€” {{ subpage_label }}
</div>

{% if subpage == 'overview' %}
<div class="card">
    <h3>{{ dam_label }}</h3>
    <p>Use the subpage navigation to view Elevation, Releases, Energy, and 24-Month Study data for this dam.</p>
</div>
{% elif subpage == 'elevation' %}
<div class="dashboard-grid single-column">
    <div class="card">
        <div class="card-header">
            <h3>Elevation (Historic + Forecast)</h3>

            <div class="range-buttons" id="rangeButtons">
                <button class="range-btn active" data-range="30d">MTD</button>
                <button class="range-btn" data-range="90d">3M</button>
                <button class="range-btn" data-range="365d">YTD</button>
                <button class="range-btn" data-range="5y">5Y</button>
            </div>
        </div>

        <div id="chartElevation" class="chart"></div>
        <div id="g1-message" class="chart-note"></div>
    </div>
</div>
{% elif subpage == 'study' %}
<div class="dashboard-grid single-column">
    <div class="card">
        <div class="card-header">
            <h3>24 Month Study</h3>

            <div class="graph-controls">
                <select id="g2-variable">
                    <option value="elevation">Elevation</option>
                    <option value="release">Release</option>
                    <option value="energy">Energy</option>
                </select>

                <select id="g2-month">
                    <option>Loading...</option>
                </select>
            </div>
        </div>

        <div id="chart24ms" class="chart"></div>
    </div>
</div>
{% elif subpage == 'releases' %}
<div class="dashboard-grid single-column">
    {% if dam in ['davis', 'parker'] %}
    <div class="card">
        <div class="card-header">
            <h3>Release by Hour (CFS)</h3>

            <div class="graph-controls">
                <button type="button" id="g3-prev-day" class="g3-day-nav" aria-label="Previous day">&lt;</button>
                <input type="date" id="g3-date" aria-label="Select release date">
                <button type="button" id="g3-next-day" class="g3-day-nav" aria-label="Next day">&gt;</button>
            </div>
        </div>

        <div id="chartReleaseHourly" class="chart"></div>
        <div id="g3-message" class="chart-note"></div>
    </div>
    {% else %}
    <div class="card">
        <h3>Releases</h3>
        <p>Release-by-hour chart is currently available for Lake Mohave (Davis Dam) and Lake Havasu (Parker Dam).</p>
    </div>
    {% endif %}
</div>
{% elif subpage == 'energy' %}
<div class="dashboard-grid single-column">
    {% if dam in ['davis', 'parker'] %}
    <div class="card">
        <div class="card-header">
            <h3>Hourly Energy by Unit (MWh)</h3>

            <div class="graph-controls">
                <button type="button" id="g4-prev-day" class="g3-day-nav" aria-label="Previous day">&lt;</button>
                <input type="date" id="g4-date" aria-label="Select unit energy date">
                <button type="button" id="g4-next-day" class="g3-day-nav" aria-label="Next day">&gt;</button>
            </div>
        </div>

        <div id="chartEnergyUnitHourly" class="chart"></div>
        <div id="g4-message" class="chart-note"></div>
    </div>
    {% else %}
    <div class="card">
        <h3>Energy</h3>
        <p>Hourly energy-by-unit chart is currently available for Lake Mohave (Davis Dam) and Lake Havasu (Parker Dam).</p>
    </div>
    {% endif %}
</div>
{% endif %}

{% endblock %}
